@page "/login" 
@layout LoginLayout
@using Frontend.ViewModels
@using Microsoft.JSInterop
@inject LoginViewModel ViewModel
@inject IJSRuntime JS
@implements IDisposable

<div class="login-container">
    <div class="login-card">
        <h2>CanilApp - Login</h2>

        @if (!string.IsNullOrEmpty(ViewModel.ErrorMessage))
        {
            <div class="alert alert-danger">
                @ViewModel.ErrorMessage
            </div>
        }

        <div class="form-group">
            <label>Email</label>
            <input type="email"
                   class="form-control"
                   @bind="ViewModel.Login"
                   placeholder="seu@email.com"
                   disabled="@ViewModel.IsLoading" />
        </div>

        <div class="form-group">
            <label>Senha</label>
            <input type="password"
                   class="form-control"
                   @bind="ViewModel.Password"
                   placeholder="********"
                   disabled="@ViewModel.IsLoading" />
        </div>

        @if(ViewModel.IsLoading)
        {
            <SpinnerComponent />
        }
        else
        {
            <button class="btn-primary" @onclick="async () => await ViewModel.LoginCommand.ExecuteAsync(null)">Entrar</button>
            <button class="btn-secondary" @onclick="ViewModel.RegisterCommand.Execute">Registrar</button>
        }
    </div>
</div>

@code {
    protected override void OnInitialized()
    {
        ViewModel.NavigationRequested += HandleNavigation;
    }

    private async void HandleNavigation(string url)
    {
        await JS.InvokeVoidAsync("eval", $"window.location.href = '{url}'");
    }

    public void Dispose()
    {
        ViewModel.NavigationRequested -= HandleNavigation;
    }
}

<style>
    /* ... mesmo CSS anterior ... */
</style>